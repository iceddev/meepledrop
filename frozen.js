//>>built
(function(b,e){var i,h,g,n=function(){},j=function(a){for(var c in a)return 0;return 1},f={}.toString,l=function(a){return"[object Function]"==f.call(a)},a=function(a){return"[object String]"==f.call(a)},m=function(a){return"[object Array]"==f.call(a)},c=function(a,c){if(a)for(var d=0;d<a.length;)c(a[d++])},d=function(a,c){for(var d in c)a[d]=c[d];return a},k=function(a,c){return d(Error(a),{src:"dojoLoader",info:c})},t=1,p=function(){return"_"+t++},o=function(a,c,d){return ha(a,c,d,0,o)},B=this,
z=B.document,S=z&&z.createElement("DiV"),s=o.has=function(a){return l(q[a])?q[a]=q[a](B,z,S):q[a]},q=s.cache=e.hasCache;s.add=function(a,c,d,k){(void 0===q[a]||k)&&(q[a]=c);return d&&s(a)};for(var r in b.has)s.add(r,b.has[r],0,1);o.async=1;o.eval=function(){};var w={},v=o.signal=function(a,d){var k=w[a];c(k&&k.slice(0),function(a){a.apply(null,m(d)?d:[d])})},u=o.on=function(a,c){var d=w[a]||(w[a]=[]);d.push(c);return{remove:function(){for(var a=0;a<d.length;a++)if(d[a]===c){d.splice(a,1);break}}}},
ia=[],ya={},ja=[],T={},ka=o.map={},H=[],x={},U="",D={},I={};r={};var K=function(a){var c,d,k,b;for(c in I)d=I[c],(k=c.match(/^url\:(.+)/))?D["url:"+la(k[1],a)]=d:"*now"==c?b=d:"*noref"!=c&&(k=J(c,a),D[k.mid]=D["url:"+k.url]=d);b&&b(V(a));I={}},ma=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},W=function(a,c){c.splice(0,c.length);for(var d in a)c.push([d,a[d],RegExp("^"+ma(d)+"(/|$)"),d.length]);c.sort(function(a,c){return c[3]-a[3]});return c},na=function(a){var c=
a.name;c||(c=a,a={name:c});a=d({main:"main"},a);a.location=a.location?a.location:c;if(a.packageMap)ka[c]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);T[c]=a},oa=[],F=function(k,b,h){for(var f in k){if("waitSeconds"==f)o.waitms=1E3*(k[f]||0);"cacheBust"==f&&(U=k[f]?a(k[f])?k[f]:(new Date).getTime()+"":"");if("baseUrl"==f||"combo"==f)o[f]=k[f];k[f]!==q&&(o.rawConfig[f]=k[f],"has"!=f&&s.add("config-"+f,k[f],0,b))}if(!o.baseUrl)o.baseUrl="./";/\/$/.test(o.baseUrl)||(o.baseUrl+="/");
for(f in k.has)s.add(f,k.has[f],0,b);c(k.packages,na);for(g in k.packagePaths)c(k.packagePaths[g],function(c){var d=g+"/"+c;a(c)&&(c={name:c});c.location=d;na(c)});W(d(ka,k.map),H);c(H,function(a){a[1]=W(a[1],[]);if("*"==a[0])H.star=a});W(d(ya,k.paths),ja);c(k.aliases,function(c){a(c[0])&&(c[0]=RegExp("^"+ma(c[0])+"$"));ia.push(c)});if(b)oa.push({config:k.config});else for(f in k.config)b=C(f,h),b.config=d(b.config||{},k.config[f]);if(k.cache)K(),I=k.cache,k.cache["*noref"]&&K();v("config",[k,o.rawConfig])};
o.rawConfig={};F(e,1);F(b,1);F(r,1);var L=function(a){X(function(){c(a.deps,pa)})},ha=function(c,b,f,h,t){var g;if(a(c)){if((g=C(c,h,!0))&&g.executed)return g.result;throw k("undefinedModule",c);}m(c)||(F(c,0,h),c=b,b=f);if(m(c))if(c.length){for(var f="require*"+p(),i,e=[],j=0;j<c.length;)i=c[j++],e.push(C(i,h));g=d(M("",f,0,""),{injected:2,deps:e,def:b||n,require:h?h.require:o,gc:1});x[g.mid]=g;L(g);var l=G&&0!="sync";X(function(){Y(g,l)});g.executed||A.push(g);N()}else b&&b();return t},V=function(a){if(!a)return o;
var c=a.require;if(!c)c=function(d,k,b){return ha(d,k,b,a,c)},a.require=d(c,o),c.module=a,c.toUrl=function(c){return la(c,a)},c.toAbsMid=function(c){return Z(c,a)};return c},A=[],O=[],y={},Aa=function(a){a.injected=1;y[a.mid]=1;a.url&&(y[a.url]=a.pack||1);za()},P=function(a){a.injected=2;delete y[a.mid];a.url&&delete y[a.url];j(y)&&Ba()},Ca=o.idle=function(){return!O.length&&j(y)&&!A.length&&!G},$=function(a,c){if(c)for(var d=0;d<c.length;d++)if(c[d][2].test(a))return c[d];return 0},qa=function(a){for(var c=
[],d,k,a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&c.length&&".."!=k?(c.pop(),k=c[c.length-1]):"."!=d&&c.push(k=d);return c.join("/")},M=function(a,c,d,k){return{pid:a,mid:c,pack:d,url:k,executed:0,def:0}},ra=function(a,d,b,f,h,g,t,n){var e,m,j,p;p=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||p&&!d)return M(0,a,0,a);a=qa(p?d.mid+"/../"+a:a);if(/^\./.test(a))throw k("irrationalPath",a);d&&(j=$(d.mid,g));(j=(j=j||g.star)&&$(a,j[1]))&&(a=j[1]+a.substring(j[3]));d=(i=a.match(/^([^\/]+)(\/(.+))?$/))?
i[1]:"";(e=b[d])?a=d+"/"+(m=i[3]||e.main):d="";var o=0;c(ia,function(c){var d=a.match(c[0]);d&&0<d.length&&(o=l(c[1])?a.replace(c[0],c[1]):c[1])});if(o)return ra(o,0,b,f,h,g,t,n);if(b=f[a])return n?M(b.pid,b.mid,b.pack,b.url):f[a];f=(j=$(a,t))?j[1]+a.substring(j[3]):d?e.location+"/"+m:a;/(^\/)|(\:)/.test(f)||(f=h+f);return M(d,a,e,qa(f+".js"))},J=function(a,c){return ra(a,c,T,x,o.baseUrl,H,ja)},sa=function(a,c,d){return a.normalize?a.normalize(c,function(a){return Z(a,d)}):Z(c,d)},ta=0,C=function(a,
c,d){var k,b;(k=a.match(/^(.+?)\!(.*)$/))?(b=C(k[1],c,d),5===b.executed&&!b.load&&aa(b),b.load?(k=sa(b,k[2],c),a=b.mid+"!"+(b.dynamic?++ta+"!":"")+k):(k=k[2],a=b.mid+"!"+ ++ta+"!waitingForPlugin"),a={plugin:b,mid:a,req:V(c),prid:k}):a=J(a,c);return x[a.mid]||!d&&(x[a.mid]=a)},Z=o.toAbsMid=function(a,c){return J(a,c).mid},la=o.toUrl=function(a,c){var d=J(a+"/x",c),k=d.url;return ua(0===d.pid?a:k.substring(0,k.length-5))},va={injected:2,executed:5,def:3,result:3},E=function(a){return x[a]=d({mid:a},
va)},Da=E("require"),Ea=E("exports"),Fa=E("module"),Q={},ba=0,aa=function(a){var c=a.result;a.dynamic=c.dynamic;a.normalize=c.normalize;a.load=c.load;return a},Ga=function(a){var k={};c(a.loadQ,function(c){var b=sa(a,c.prid,c.req.module),f=a.dynamic?c.mid.replace(/waitingForPlugin$/,b):a.mid+"!"+b,b=d(d({},c),{mid:f,prid:b,injected:0});x[f]||wa(x[f]=b);k[c.mid]=x[f];P(c);delete x[c.mid]});a.loadQ=0;var b=function(a){for(var c=a.deps||[],d=0;d<c.length;d++)(a=k[c[d].mid])&&(c[d]=a)},f;for(f in x)b(x[f]);
c(A,b)},ca=function(a){o.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ba++;a.loadQ&&(aa(a),Ga(a));for(h=0;h<A.length;)A[h]===a?A.splice(h,1):h++;/^require\*/.test(a.mid)&&delete x[a.mid]},Ha=[],Y=function(a,c){if(4===a.executed)return o.trace("loader-circular-dependency",[Ha.concat(a.mid).join("->")]),!a.def||c?Q:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Q;var d=a.mid,k=a.deps||[],b,f=[],h=0;for(a.executed=4;h<k.length;){b=k[h++];b=b===Da?V(a):b===Ea?a.cjs.exports:b===Fa?
a.cjs:Y(b,c);if(b===Q)return a.executed=0,o.trace("loader-exec-module",["abort",d]),Q;f.push(b)}o.trace("loader-run-factory",[a.mid]);d=a.def;f=l(d)?d.apply(null,f):d;a.result=void 0===f&&a.cjs?a.cjs.exports:f;ca(a)}return a.result},G=0,X=function(a){try{G++,a()}finally{G--}Ca()&&v("idle",[])},N=function(){G||X(function(){for(var a,c,d=0;d<A.length;)a=ba,c=A[d],Y(c),a!=ba?d=0:d++})},ua=function(a){a+="";return a+(U?(/\?/.test(a)?"&":"?")+U:"")},wa=function(a){var c=a.plugin;5===c.executed&&!c.load&&
aa(c);var d=function(c){a.result=c;P(a);ca(a);N()};c.load?c.load(a.prid,a.req,d):c.loadQ?c.loadQ.push(a):(c.loadQ=[a],A.unshift(c),pa(c))},R=0,da=0,ea=0,Ia=function(a,c){s("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));ea=1;a===R?R.call(null):o.eval(a,c.mid);ea=0},pa=function(a){var c=a.mid,k=a.url;if(!a.executed&&!a.injected&&!(y[c]||a.url&&(a.pack&&y[a.url]===a.pack||1==y[a.url])))if(Aa(a),a.plugin)wa(a);else{var b=function(){Ja(a);2!==a.injected&&(P(a),d(a,va),o.trace("loader-define-nonmodule",
[a.url]));N()};(R=D[c]||D["url:"+a.url])?(o.trace("loader-inject",["cache",a.mid,k]),Ia(R,a),b()):(o.trace("loader-inject",["script",a.mid,k]),da=a,o.injectUrl(ua(k),b,a),da=0)}},fa=function(a,c,b){o.trace("loader-define-module",[a.mid,c]);if(2===a.injected)return v("error",k("multipleDefine",a)),a;d(a,{deps:c,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(c){a.cjs.exports=c},config:function(){return a.config}}});for(var f=0;f<c.length;f++)c[f]=C(c[f],a);P(a);if(!l(b)&&!c.length)a.result=
b,ca(a);return a},Ja=function(a,d){for(var k=[],b,f;O.length;)f=O.shift(),d&&(f[0]=d.shift()),b=f[0]&&C(f[0])||a,k.push([b,f[1],f[2]]);K(a);c(k,function(a){L(fa.apply(null,a))})},Ba=n,za=n;s.add("ie-event-behavior",!!z.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ga=function(a,c,d,k){if(s("ie-event-behavior"))return a.attachEvent(d,k),function(){a.detachEvent(d,k)};a.addEventListener(c,k,!1);return function(){a.removeEventListener(c,k,!1)}},Ka=ga(window,"load",
"onload",function(){o.pageLoaded=1;"complete"!=z.readyState&&(z.readyState="complete");Ka()}),xa=z.getElementsByTagName("script")[0],La=xa.parentNode;o.injectUrl=function(a,c,d){var d=d.node=z.createElement("script"),b=ga(d,"load","onreadystatechange",function(a){var a=a||window.event,d=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(d.readyState))b(),f(),c&&c()}),f=ga(d,"error","onerror",function(c){b();f();v("error",k("scriptError",[a,c]))});d.type="text/javascript";d.charset=
"utf-8";d.src=a;La.insertBefore(d,xa);return d};o.log=n;o.trace=n;E=function(c,d,b){var f=arguments.length,h=["require","exports","module"],g=[0,c,d];1==f?g=[0,l(c)?h:[],c]:2==f&&a(c)?g=[c,l(d)?h:[],d]:3==f&&(g=[c,d,b]);o.trace("loader-define",g.slice(0,2));if((f=g[0]&&C(g[0]))&&!y[f.mid])L(fa(f,g[1],g[2]));else if(!s("ie-event-behavior")||ea)O.push(g);else{f=f||da;if(!f)for(c in y)if((h=x[c])&&h.node&&"interactive"===h.node.readyState){f=h;break}f?(K(f),L(fa(f,g[1],g[2]))):v("error",k("ieDefineFailed",
g[0]));N()}};E.amd={vendor:"dojotoolkit.org"};d(d(o,e.loaderPatch),b.loaderPatch);u("error",function(a){try{if(console.error(a),a instanceof Error)for(var c in a);}catch(d){}});d(o,{uid:p,cache:D,packs:T});if(!B.define)B.define=E,B.require=o,c(oa,function(a){F(a)}),u=r.deps||b.deps||e.deps,r=r.callback||b.callback||e.callback,o.boot=u||r?[u||[],r]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,
dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dcl",main:"dcl",name:"dcl"},{location:"../frozen",main:"GameCore",name:"frozen"}]});
require({cache:{"dist/frozen":function(){define([],1)},"frozen/box2d/Box":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang"],function(b,e,i){var h=Box2D.Common.Math.b2Vec2,g=Box2D.Dynamics.b2BodyDef,n=Box2D.Dynamics.b2Body,j=Box2D.Dynamics.b2FixtureDef,f=Box2D.Dynamics.b2World,l=Box2D.Collision.Shapes.b2PolygonShape,a=Box2D.Collision.Shapes.b2CircleShape,m=Box2D.Dynamics.Joints.b2RevoluteJointDef;return b(e,{intervalRate:60,adaptive:!1,width:640,height:480,scale:30,bodiesMap:[],fixturesMap:[],
world:null,gravityX:0,gravityY:10,allowSleep:!0,resolveCollisions:!1,contactListener:null,collisions:null,constructor:function(a){if(a.intervalRate)this.intervalRate=parseInt(a.intervalRate,10);this.world=new f(new h(this.gravityX,this.gravityY),this.allowSleep);this.resolveCollisions&&this.addContactListener(this.contactListener||this)},update:function(a){if(this.resolveCollisions)this.collisions={};var d=Date.now();a?this.world.Step(a/1E3,10,10):this.world.Step(this.adaptive?(d-this.lastTimestamp)/
1E3:1/this.intervalRate,10,10);this.world.ClearForces();return Date.now()-d},getState:function(){for(var a={},d=this.world.GetBodyList();d;d=d.m_next)if(d.IsActive()&&"undefined"!==typeof d.GetUserData()&&null!==d.GetUserData()&&(a[d.GetUserData()]={x:d.GetPosition().x,y:d.GetPosition().y,angle:d.GetAngle(),center:{x:d.GetWorldCenter().x,y:d.GetWorldCenter().y},linearVelocity:d.m_linearVelocity,angularVelocity:d.m_angularVelocity},this.resolveCollisions))a[d.GetUserData()].collisions=this.collisions[d.GetUserData()]||
null;return a},updateExternalState:function(a){var d=this.getState(),k;for(k in d){var b=a[k];b&&!b.staticBody&&b.update(d[k])}},setBodies:function(a){for(var d in a)this.addBody(a[d]);this.ready=!0},addBody:function(c){var d=new g,k=new j,b,f,e,i;k.restitution=c.restitution;k.density=c.density;k.friction=c.friction;d.type=c.staticBody?n.b2_staticBody:n.b2_dynamicBody;d.position.x=c.x;d.position.y=c.y;d.userData=c.id;d.angle=c.angle;d.linearDamping=c.linearDamping;d.angularDamping=c.angularDamping;
var m=this.world.CreateBody(d);if(c.radius)k.shape=new a(c.radius),m.CreateFixture(k);else if(c.points){f=[];for(d=0;d<c.points.length;d++)e=new h,e.Set(c.points[d].x,c.points[d].y),f[d]=e;k.shape=new l;k.shape.SetAsArray(f,f.length);m.CreateFixture(k)}else if(c.polys)for(b=0;b<c.polys.length;b++){f=c.polys[b];i=[];for(d=0;d<f.length;d++)e=new h,e.Set(f[d].x,f[d].y),i[d]=e;k.shape=new l;k.shape.SetAsArray(i,i.length);m.CreateFixture(k)}else k.shape=new l,k.shape.SetAsBox(c.halfWidth,c.halfHeight),
m.CreateFixture(k);this.bodiesMap[c.id]=m},setPosition:function(a,d,k){this.bodiesMap[a].SetPosition(new h(d,k))},setAngle:function(a,d){this.bodiesMap[a].SetAngle(d)},setLinearVelocity:function(a,d,k){this.bodiesMap[a].SetLinearVelocity(new h(d,k))},applyImpulseDegrees:function(a,d,k){a=this.bodiesMap[a];a.ApplyImpulse(new h(Math.sin(d*(Math.PI/180))*k,-1*Math.cos(d*(Math.PI/180))*k),a.GetWorldCenter())},applyForceDegrees:function(a,d,k){a=this.bodiesMap[a];a.ApplyForce(new h(Math.sin(d*(Math.PI/
180))*k,-1*Math.cos(d*(Math.PI/180))*k),a.GetWorldCenter())},applyImpulse:function(a,d,k){a=this.bodiesMap[a];a.ApplyImpulse(new h(Math.sin(d)*k,-1*Math.cos(d)*k),a.GetWorldCenter())},applyForce:function(a,d,k){a=this.bodiesMap[a];a.ApplyForce(new h(Math.sin(d)*k,-1*Math.cos(d)*k),a.GetWorldCenter())},applyTorque:function(a,d){this.bodiesMap[a].ApplyTorque(d)},removeBody:function(a){this.bodiesMap[a]&&(this.fixturesMap[a]&&this.bodiesMap[a].DestroyFixture(this.fixturesMap[a]),this.world.DestroyBody(this.bodiesMap[a]),
delete this.bodiesMap[a])},addContactListener:function(a){var d=new Box2D.Dynamics.b2ContactListener;if(a.beginContact)d.BeginContact=function(d){a.beginContact(d.GetFixtureA().GetBody().GetUserData(),d.GetFixtureB().GetBody().GetUserData())};if(a.EndContact)d.endContact=function(d){a.endContact(d.GetFixtureA().GetBody().GetUserData(),d.GetFixtureB().GetBody().GetUserData())};if(a.postSolve)d.PostSolve=function(d,b){a.postSolve(d.GetFixtureA().GetBody().GetUserData(),d.GetFixtureB().GetBody().GetUserData(),
b.normalImpulses[0])};this.world.SetContactListener(d)},addRevoluteJoint:function(a,d,k){var a=this.bodiesMap[a],d=this.bodiesMap[d],b=new m;b.Initialize(a,d,a.GetWorldCenter());k&&i.mixin(b,k);this.world.CreateJoint(b)},beginContact:function(){},endContact:function(){},postSolve:function(a,d,k){this.collisions[a]=this.collisions[a]||[];this.collisions[a].push({id:d,impulse:k});this.collisions[d]=this.collisions[d]||[];this.collisions[d].push({id:a,impulse:k})}})})},"dcl/dcl":function(){(function(b){"undefined"!=
typeof define?define(["./mini"],b):"undefined"!=typeof module?module.exports=b(require("./mini")):dcl=b(dcl)})(function(b){function e(){}function i(b,h,f){var g=b||e,a=h||e,i=f||e,c=function(){var c;g.apply(this,arguments);try{c=i.apply(this,arguments)}catch(k){c=k}a.call(this,arguments,c);if(c instanceof Error)throw c;return c};c.advices={b:b,a:h,f:f};return c}function h(h){return function(g,f){var e=g._m,a;e&&((a=+e.w[f]||0)&&a!=h&&b._e("set chaining",f,g,h,a),e.w[f]=h)}}var g=b(b.Super,{constructor:function(){this.b=
this.f.before;this.a=this.f.after;this.f=this.f.around}});b.mix(b,{Advice:g,advise:function(b){return new g(b)},before:function(b){return new g({before:b})},after:function(b){return new g({after:b})},around:b.superCall,chainBefore:h(1),chainAfter:h(2),isInstanceOf:function(b,h){if(b instanceof h)return!0;var f=b.constructor._m,g;if(f)for(f=f.b,g=f.length-1;0<=g;--g)if(f[g]===h)return!0;return!1},_sb:function(h,g,f,e){var e=e[f]=b._ec(g,f,"f"),a=b._ec(g,f,"b").reverse(),g=b._ec(g,f,"a"),e=h?b._st(e,
1==h?function(a){return b._sc(a.reverse())}:b._sc,f):b._ss(e,f);return!a.length&&!g.length?e||new Function:i(b._sc(a),b._sc(g),e)}});return b})},"dcl/mini":function(){(function(b){"undefined"!=typeof define?define([],b):"undefined"!=typeof module?module.exports=b():dcl=b()})(function(){function b(a,c){var d=[0],f,e,m,j,s,q,r,w,v=0,u;if(a)if(a instanceof Array){j={};r=a.slice(0).reverse();for(w=r.length-1;0<=w;--w)if(e=r[w],e._u=e._u||h++,f=e._m){for(q=f.b,v=q.length-1;0<v;--v)u=q[v]._u,j[u]=(j[u]||
0)+1;r[w]=q.slice(0)}else r[w]=[e];s={};a:for(;r.length;){for(w=0;w<r.length;++w)if(q=r[w],e=q[0],u=e._u,!j[u]){s[u]||(d.push(e),s[u]=1);q.shift();q.length?--j[q[0]._u]:r.splice(w,1);continue a}b._e("cycle",c,r)}a=a[0];v=d.length-((j=a._m)&&a===d[d.length-(v=j.b.length)]?v:1)-1}else a._u=a._u||h++,d=d.concat((j=a._m)?j.b:a);f=a?b.delegate(a[n]):{};for(q=a&&(j=a._m)?b.delegate(j.w):{constructor:2};0<v;--v)if(e=d[v],j=e._m,l(f,j&&j.h||e[n]),j)for(u in r=j.w)q[u]=(+q[u]||0)|r[u];for(u in c)i(j=c[u])?
q[u]=+q[u]||0:f[u]=j;s={b:d,h:c,w:q,c:{}};d[0]={_m:s,prototype:f};e=f;j=s.w;q=s.b;r=s.c;for(m in j)e[m]=b._sb(j[m],q,m,r);m=f[g];m._m=s;m[n]=f;d[0]=m;return b._p(m)}function e(a){this.f=a}function i(a){return a instanceof e}var h=0,g="constructor",n="prototype",j=new Function,f={},l,a,m,c,d;(l=function(a,c){for(var d in c)a[d]=c[d]})(b,{mix:l,delegate:function(a){j[n]=a;a=new j;j[n]=null;return a},Super:e,superCall:function(a){return new e(a)},_p:function(a){return a},_e:function(a){throw Error("dcl: "+
a);},_f:function(a,c){var d=a.f(c);d.ctr=a.ctr;return d},_ec:a=function(a,c,d){for(var b=a.length-1,h=[],g,e,m="f"==d;g=a[b];--b)if((e=g._m)?(e=e.h).hasOwnProperty(c)&&(i(e=e[c])?m?e.f:e=e[d]:m):m&&(e=g[n][c])&&e!==f[c])e.ctr=g,h.push(e);return h},_sc:c=function(a){var c=a.length,d;return!c?0:1==c?(d=a[0],function(){d.apply(this,arguments)}):function(){for(var d=0;d<c;++d)a[d].apply(this,arguments)}},_ss:m=function(a,c){for(var d=0,h,e=f[c];h=a[d];++d)e=i(h)?a[d]=b._f(h,e,c):h;return c!=g?e:function(){e.apply(this,
arguments)}},_st:d=function(a,c,d){for(var f=0,h,e,m=0;h=a[f];++f)i(h)&&(e=f-m,a[f]=b._f(h,!e?0:1==e?a[m]:c(a.slice(m,f)),d),m=f);e=f-m;return!e?0:1==e&&d!=g?a[m]:c(m?a.slice(m):a)},_sb:function(b,f,h,g){f=g[h]=a(f,h,"f");return(b?d(f,c,h):m(f,h))||new Function}});return b})},"dcl/bases/Mixer":function(){(function(b){"undefined"!=typeof define?define(["../mini"],b):"undefined"!=typeof module?module.exports=b(require("../mini")):dclBasesMixer=b(dcl)})(function(b){return b(null,{declaredClass:"dcl/bases/Mixer",
constructor:function(e){b.mix(this,e)}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,e){e.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var i=e("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],h=i.length,g=function(a,f,c){var d,k=0,h=b.global;if(!c)if(a.length){d=a[k++];try{c=b.scopeMap[d]&&b.scopeMap[d][1]}catch(g){}c=c||(d in h?
h[d]:f?h[d]={}:void 0)}else return h;for(;c&&(d=a[k++]);)c=d in c?c[d]:f?c[d]={}:void 0;return c},n=Object.prototype.toString,j=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},f=/\{([^\}]+)\}/g,l={_extraNames:i,_mixin:function(a,b,c){var d,f,g,j={};for(d in b)if(f=b[d],!(d in a)||a[d]!==f&&(!(d in j)||j[d]!==f))a[d]=c?c(f):f;if(e("bug-for-in-skips-shadowed")&&b)for(g=0;g<h;++g)if(d=i[g],f=b[d],!(d in a)||a[d]!==f&&(!(d in j)||j[d]!==f))a[d]=c?c(f):f;return a},mixin:function(a,
b){a||(a={});for(var c=1,d=arguments.length;c<d;c++)l._mixin(a,arguments[c]);return a},setObject:function(a,b,c){var d=a.split("."),a=d.pop();return(c=g(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return g(a.split("."),b,c)},exists:function(a,b){return void 0!==l.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===n.call(a)},isObject:function(a){return void 0!==
a&&(null===a||"object"==typeof a||l.isArray(a)||l.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!l.isString(a)&&!l.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(l.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!l.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,b){for(var c=1,d=arguments.length;c<d;c++)l._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,f){var c=l._toArray(arguments,2),d=l.isString(f);return function(){var h=
l._toArray(arguments),g=d?(a||b.global)[f]:f;return g&&g.apply(a||this,c.concat(h))}},hitch:function(a,f){if(2<arguments.length)return l._hitchArgs.apply(b,arguments);f||(f=a,a=null);if(l.isString(f)){a=a||b.global;if(!a[f])throw['lang.hitch: scope["',f,'"] is null (scope="',a,'")'].join("");return function(){return a[f].apply(a,arguments||[])}}return!a?f:function(){return f.apply(a,arguments||[])}},delegate:function(){function a(){}return function(b,c){a.prototype=b;var d=new a;a.prototype=null;
c&&l._mixin(d,c);return d}}(),_toArray:e("ie")?function(){function a(a,c,d){d=d||[];for(c=c||0;c<a.length;c++)d.push(a[c]);return d}return function(b){return(b.item?a:j).apply(this,arguments)}}():j,partial:function(a){return l.hitch.apply(b,[null].concat(l._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||l.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,c,
d;if(l.isArray(a)){b=[];for(c=0,d=a.length;c<d;++c)c in a&&b.push(l.clone(a[c]))}else b=a.constructor?new a.constructor:{};return l._mixin(b,a,l.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||f,l.isFunction(b)?b:function(a,c){return l.getObject(c,!1,b)})}};l.mixin(b,l);return l})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(b,e,i,
h){var g,b={},n={},j={config:e,global:this,dijit:b,dojox:n},b={dojo:["dojo",j],dijit:["dijit",b],dojox:["dojox",n]},h=i.map&&i.map[h.id.match(/[^\/]+/)[0]];for(g in h)b[g]?b[g][0]=h[g]:b[g]=[h[g],{}];for(g in b)h=b[g],h[1]._scopeName=h[0],e.noGlobals||(this[h[0]]=h[1]);j.scopeMap=b;j.baseUrl=j.config.baseUrl=i.baseUrl;j.isAsync=i.async;j.locale=e.locale;e="$Rev: 30226 $".match(/\d+/);j.version={major:1,minor:8,patch:3,flag:"",revision:e?+e[0]:NaN,toString:function(){var b=j.version;return b.major+
"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};j.exit=function(){};j.deprecated=j.experimental=function(){};j._hasResource={};return j})},"dojo/has":function(){define(["require","module"],function(b){var e=b.has||function(){};e.add("dom-addeventlistener",!!document.addEventListener);e.add("touch","ontouchstart"in document);e.add("device-width",screen.availWidth||innerWidth);b=document.createElement("form");e.add("dom-attributes-explicit",0==b.attributes.length);e.add("dom-attributes-specified-flag",
0<b.attributes.length&&40>b.attributes.length);e.clearElement=function(b){b.innerHTML="";return b};e.normalize=function(b,h){var g=b.match(/[\?:]|[^:\?]*/g),n=0,j=function(b){var h=g[n++];if(":"==h)return 0;if("?"==g[n++]){if(!b&&e(h))return j();j(!0);return j(b)}return h||0};return(b=j())&&h(b)};e.load=function(b,h,g){b?h([b],g):g()};return e})},"dojo/_base/config":function(){define(["../has","require"],function(b,e){var i={},h=e.rawConfig,g;for(g in h)i[g]=h[g];return i})},"dojo/sniff":function(){define("dojo/sniff",
["./has"],function(b){var e=navigator,i=e.userAgent,e=e.appVersion,h=parseFloat(e);b.add("air",0<=i.indexOf("AdobeAIR"));b.add("khtml",0<=e.indexOf("Konqueror")?h:void 0);b.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0);b.add("chrome",parseFloat(i.split("Chrome/")[1])||void 0);b.add("safari",0<=e.indexOf("Safari")&&!b("chrome")?parseFloat(e.split("Version/")[1]):void 0);b.add("mac",0<=e.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);b.add("ios",/iPhone|iPod|iPad/.test(i));
b.add("android",parseFloat(i.split("Android ")[1])||void 0);if(!b("webkit")){0<=i.indexOf("Opera")&&b.add("opera",9.8<=h?parseFloat(i.split("Version/")[1])||h:h);0<=i.indexOf("Gecko")&&!b("khtml")&&!b("webkit")&&b.add("mozilla",h);b("mozilla")&&b.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0);if(document.all&&!b("opera"))i=parseFloat(e.split("MSIE ")[1])||void 0,(e=document.documentMode)&&5!=e&&Math.floor(i)!=e&&(i=e),b.add("ie",i);b.add("wii","undefined"!=typeof opera&&
opera.wiiremote)}return b})},"frozen/box2d/CircleEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity"],function(b,e,i){return b([e,i],{radius:1,draw:b.superCall(function(b){return function(g,e){g.fillStyle=this.color;g.beginPath();g.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0);g.closePath();g.fill();g.strokeStyle="#000000";g.beginPath();g.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0);g.closePath();g.stroke();b.apply(this,[g,e])}})})})},"frozen/box2d/Entity":function(){define(["dcl",
"dcl/bases/Mixer","dojo/_base/lang"],function(b,e,i){return b(e,{id:0,x:0,y:0,angle:0,center:0,restitution:0.3,density:1,friction:0.9,linearDamping:0,linearVelocity:null,angularVelocity:0,angularDamping:0,staticBody:!1,color:"rgba(128,128,128,0.5)",hidden:!1,update:function(b){i.mixin(this,b)},draw:function(b,g){b.fillStyle="black";b.beginPath();b.arc(this.x*g,this.y*g,4,0,2*Math.PI,!0);b.closePath();b.fill();b.fillStyle="yellow";b.beginPath();b.arc(this.center.x*g,this.center.y*g,2,0,2*Math.PI,!0);
b.closePath();b.fill()}})})},"frozen/box2d/PolygonEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity"],function(b,e,i){return b([e,i],{points:[],draw:b.superCall(function(b){return function(g,e){g.save();g.translate(this.x*e,this.y*e);g.rotate(this.angle);g.translate(-this.x*e,-this.y*e);g.fillStyle=this.color;g.beginPath();g.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var j=1;j<this.points.length;j++)g.lineTo((this.points[j].x+this.x)*e,(this.points[j].y+this.y)*
e);g.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);g.closePath();g.fill();g.stroke();g.restore();b.apply(this,[g,e])}})})})},"frozen/box2d/MultiPolygonEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity"],function(b,e,i){return b([e,i],{polys:[],points:null,draw:b.superCall(function(b){return function(g,e){g.save();g.translate(this.x*e,this.y*e);g.rotate(this.angle);g.translate(-this.x*e,-this.y*e);g.fillStyle=this.color;for(var j=0;j<this.polys.length;j++){g.beginPath();
g.moveTo((this.x+this.polys[j][0].x)*e,(this.y+this.polys[j][0].y)*e);for(var f=1;f<this.polys[j].length;f++)g.lineTo((this.polys[j][f].x+this.x)*e,(this.polys[j][f].y+this.y)*e);g.lineTo((this.x+this.polys[j][0].x)*e,(this.y+this.polys[j][0].y)*e);g.closePath();g.fill();g.stroke()}g.restore();b.apply(this,[g,e])}})})})},"frozen/box2d/RectangleEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity"],function(b,e,i){return b([e,i],{halfWidth:1,halfHeight:1,draw:b.superCall(function(b){return function(e,
i){e.save();e.translate(this.x*i,this.y*i);e.rotate(this.angle);e.translate(-this.x*i,-this.y*i);e.fillStyle=this.color;e.fillRect((this.x-this.halfWidth)*i,(this.y-this.halfHeight)*i,2*this.halfWidth*i,2*this.halfHeight*i);e.restore();b.apply(this,[e,i])}})})})},"frozen/reiner/Creature":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang","../Sprite","../Animation"],function(b,e,i,h,g){return b([e,h],{statics:{EAST:0,NORTH:1,NORTHEAST:2,NORTHWEST:3,SOUTH:4,SOUTHEAST:5,SOUTHWEST:6,WEST:7,
STATE_WALKING:0,STATE_DYING:1,STATE_IDLE:2},state:0,walkingAnims:[],dyingAnims:[],idleAnims:[],direction:0,constructor:function(){this.state=this.statics.STATE_IDLE;this.direction=this.statics.EAST},update:function(b){this.x+=this.dx*b;this.y+=this.dy*b;if(this.state!==this.statics.STATE_DYING){if(0<this.dx&&0===this.dy)this.direction=this.statics.EAST;else if(0===this.dx&&0>this.dy)this.direction=this.statics.NORTH;else if(0<this.dx&&0>this.dy)this.direction=this.statics.NORTHEAST;else if(0>this.dx&&
0>this.dy)this.direction=this.statics.NORTHWEST;else if(0===this.dx&&0<this.dy)this.direction=this.statics.SOUTH;else if(0<this.dx&&0<this.dy)this.direction=this.statics.SOUTHEAST;else if(0>this.dx&&0<this.dy)this.direction=this.statics.SOUTHWEST;else if(0>this.dx&&0===this.dy)this.direction=this.statics.WEST;this.state=0===this.dx&&0===this.dy?this.statics.STATE_IDLE:this.statics.STATE_WALKING}this.anim=this.state===this.statics.STATE_WALKING?this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?
this.dyingAnims[this.direction]:this.idleAnims[this.direction];this.anim.update(b)},createAnimations:function(b,e,f,h,a,m){var c=[],d=i.isArray(e),k=1;m||(m=0);for(var t=0;8>t;t++){c[t]=new g({height:h,width:a,image:f});for(var p=0;p<b;p++)k=d?e[p]:e,c[t].addFrame(k,p+b*t,m)}return c}})})},"frozen/Sprite":function(){define(["dcl","dcl/bases/Mixer"],function(b,e){var i=b(e,{x:0,y:0,dx:0,dy:0,name:null,collisionRadius:40,update:function(b){this.x+=this.dx*b;this.y+=this.dy*b;this.anim.update(b)},getX:function(){return this.x},
getY:function(){return this.y},setX:function(b){this.x=b},setY:function(b){this.y=b},getWidth:function(){return this.anim.width},getHeight:function(){return this.anim.height},getVelocityX:function(){return this.dx},getVelocityY:function(){return this.dy},setVelocityX:function(b){this.dx=this.limitSpeed(b)},setVelocityY:function(b){this.dy=this.limitSpeed(b)},limitSpeed:function(b){return this.getMaxSpeed()?Math.abs(b)>this.getMaxSpeed()?0<b?this.getMaxSpeed():0>b?this.getMaxSpeed():0:b:b},getMaxSpeed:function(){return this.maxSpeed},
getCurrentFrame:function(){if(this.anim)return this.anim.getCurrentFrame()},drawCurrentFrame:function(b){var e=this.anim.getCurrentFrame();b.drawImage(this.anim.image,e.imgSlotX*this.anim.width,e.imgSlotY*this.anim.height,this.anim.width,this.anim.height,this.x,this.y,this.anim.width,this.anim.height)},draw:function(b){this.anim&&this.anim.draw(b,this.x,this.y)},clone:function(){return new i({anim:this.anim.clone()})}});return i})},"frozen/Animation":function(){define(["./AnimFrame","dcl","dcl/bases/Mixer",
"dojo/_base/lang"],function(b,e,i,h){var g=e(i,{currFrameIndex:0,animTime:0,totalDuration:0,height:64,width:64,image:null,constructor:function(){this.start()},createFromTile:function(b,e,f,g,a,h){return this.createFromSheet(b,e,f,a,g,h)},createFromSheet:function(b,e,f,i,a,m){f=new g({image:f,height:a,width:i});i=h.isArray(e);a=1;m||(m=0);for(var c=0;c<b;c++)a=i?e[c]:e,f.addFrame(a,c,m);return f},clone:function(){return new g({image:this.image,frames:this.frames,totalDuration:this.totalDuration})},
addFrame:function(e,g,f){if(!this.frames)this.frames=[];this.totalDuration+=e;this.frames.push(new b({endTime:this.totalDuration,image:this.image,imgSlotX:g,imgSlotY:f}))},start:function(){this.currFrameIndex=this.animTime=0},update:function(b){if(1<this.frames.length){this.animTime+=b;if(this.animTime>=this.totalDuration)this.animTime%=this.totalDuration,this.currFrameIndex=0;for(;this.animTime>this.getFrame(this.currFrameIndex).endTime;)this.currFrameIndex++}},getImage:function(){return this.image},
getFrame:function(b){return this.frames[b]},getCurrentFrame:function(){return 0===this.frames.length?null:this.getFrame(this.currFrameIndex)},draw:function(b,e,f){var g=this.getCurrentFrame();b.drawImage(this.image,g.imgSlotX*this.width,g.imgSlotY*this.height,this.width,this.height,e,f,this.width,this.height)}});return g})},"frozen/AnimFrame":function(){define(["dcl","dcl/bases/Mixer"],function(b,e){return b(e,{endTime:0,imgSlotX:0,imgSlotY:0,image:null})})},"frozen/GameAction":function(){define(["dcl",
"dcl/bases/Mixer"],function(b,e){return b(e,{name:null,behavior:0,amount:0,state:0,statics:{NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3},constructor:function(){this.reset()},getName:function(){return this.name},reset:function(){this.state=this.statics.STATE_RELEASED;this.amount=0},tap:function(){this.press();this.release()},press:function(){this.state=this.statics.STATE_PRESSED;this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY&&
this.pressAmt(1)},pressAmt:function(b){if(this.state!==this.statics.STATE_WAITING_FOR_RELEASE)this.amount+=b,this.state=this.statics.STATE_WAITING_FOR_RELEASE},release:function(){this.state=this.statics.STATE_RELEASED},isPressed:function(){return this.state===this.statics.STATE_PRESSED?!0:!1},getAmount:function(){var b=this.amount;if(0!==b)if(this.state===this.statics.STATE_RELEASED)this.amount=0;else if(this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY)this.state=this.statics.STATE_WAITING_FOR_RELEASE,
this.amount=0;return b}})})},"frozen/MouseAction":function(){define(["dcl","dcl/bases/Mixer","./GameAction"],function(b,e,i){return b([e,i],{startPosition:null,endPosition:null,position:null})})},"frozen/GameCore":function(){define("dcl,dcl/bases/Mixer,dojo/_base/lang,dojo/dom,./InputManager,./ResourceManager,./shims/RAF".split(","),function(b,e,i,h,g,n){return b(e,{statics:{FONT_SIZE:24},isRunning:!1,canvasId:null,maxStep:40,contextType:"2d",height:0,width:0,resourceManager:null,inputManager:null,
loadingForeground:"#00F",loadingBackground:"#FFF",gameAreaId:null,canvasPercentage:0,stop:function(){this.isRunning=!1},run:function(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())},loadResources:function(){},init:function(){if(!this.canvas)this.canvas=h.byId(this.canvasId);if(this.canvas){if(!this.context)this.context=this.canvas.getContext(this.contextType);if(this.context){this.height?this.canvas.height=this.height:this.height=
this.canvas.height;this.width?this.canvas.width=this.width:this.width=this.canvas.width;if(!this.inputManager)this.inputManager=this.gameAreaId&&this.canvasPercentage?new g({canvas:this.canvas,gameArea:h.byId(this.gameAreaId),canvasPercentage:this.canvasPercentage}):new g({canvas:this.canvas});this.inputManager.resize();if(!this.resourceManager)this.resourceManager=new n;this.loadResources(this.resourceManager);this.isRunning=!0}else alert("Sorry, your browser does not support a "+this.contextType+
" drawing surface on canvas.  I recommend any browser but Internet Explorer")}else alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")},initInput:function(){},handleInput:function(){},gameLoop:function(){this.currTime=(new Date).getTime();this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep);this.prevTime=this.currTime;this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):
(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())},launchLoop:function(){this.elapsedTime=0;var b=Date.now();this.prevTime=this.currTime=b;this.loopRunner=i.hitch(this,this.loopRunner);window.requestAnimationFrame(this.loopRunner)},loopRunner:function(){this.gameLoop();window.requestAnimationFrame(this.loopRunner)},update:function(){},updateLoadingScreen:function(){},draw:function(b){if("2d"===
this.contextType)b.font="14px sans-serif",b.fillText("This game does not have its own draw function!",10,50)},drawLoadingScreen:function(b){if(this.resourceManager&&"2d"===this.contextType)b.fillStyle=this.loadingBackground,b.fillRect(0,0,this.width,this.height),b.fillStyle=this.loadingForeground,b.strokeStyle=this.loadingForeground,b.font="bold "+Math.floor(this.height/12)+"px sans-serif",b.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",0.1*this.width,0.55*this.height),b.strokeRect(0.1*
this.width,0.7*this.height,0.8*this.width,0.1*this.height),b.fillRect(0.1*this.width,0.7*this.height,0.8*this.width*this.resourceManager.getPercentComplete()/100,0.1*this.height),b.lineWidth=4}})})},"dojo/dom":function(){define("dojo/dom",["./sniff","./_base/window"],function(b,e){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(i){}var h={};h.byId=b("ie")?function(b,g){if("string"!=typeof b)return b;var f=g||e.doc,h=b&&f.getElementById(b);if(h&&(h.attributes.id.value==b||
h.id==b))return h;f=f.all[b];if(!f||f.nodeName)f=[f];for(var a=0;h=f[a++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==b||h.id==b)return h}:function(b,g){return("string"==typeof b?(g||e.doc).getElementById(b):b)||null};h.isDescendant=function(b,e){try{b=h.byId(b);for(e=h.byId(e);b;){if(b==e)return!0;b=b.parentNode}}catch(f){}return!1};b.add("css-user-select",function(b,e,f){if(!f)return!1;var b=f.style,e=["Khtml","O","ms","Moz","Webkit"],f=e.length,g="userSelect";do if("undefined"!==
typeof b[g])return g;while(f--&&(g=e[f]+"UserSelect"));return!1});var g=b("css-user-select");h.setSelectable=g?function(b,e){h.byId(b).style[g]=e?"":"none"}:function(b,e){var b=h.byId(b),f=b.getElementsByTagName("*"),g=f.length;if(e)for(b.removeAttribute("unselectable");g--;)f[g].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");g--;)f[g].setAttribute("unselectable","on")};return h})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,e,i){var h=
{global:b.global,doc:this.document||null,body:function(e){e=e||b.doc;return e.body||e.getElementsByTagName("body")[0]},setContext:function(e,i){b.global=h.global=e;b.doc=h.doc=i},withGlobal:function(e,i,j,f){var l=b.global;try{return b.global=h.global=e,h.withDoc.call(null,e.document,i,j,f)}finally{b.global=h.global=l}},withDoc:function(e,n,j,f){var l=h.doc,a=i("quirks"),m=i("ie"),c,d,k;try{b.doc=h.doc=e;b.isQuirks=i.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(i("ie")&&(k=e.parentWindow)&&
k.navigator)c=parseFloat(k.navigator.appVersion.split("MSIE ")[1])||void 0,(d=e.documentMode)&&5!=d&&Math.floor(c)!=d&&(c=d),b.isIE=i.add("ie",c,!0,!0);j&&"string"==typeof n&&(n=j[n]);return n.apply(j,f||[])}finally{b.doc=h.doc=l,b.isQuirks=i.add("quirks",a,!0,!0),b.isIE=i.add("ie",m,!0,!0)}}};e.mixin(b,h);return h})},"frozen/InputManager":function(){define("./GameAction,./MouseAction,dcl,dcl/bases/Mixer,dojo/on,dojo/dom-geometry,dojo/_base/lang,dojo/domReady!".split(","),function(b,e,i,h,g,n,j){return i(h,
{keyActions:[],mouseAction:null,touchAction:null,canvas:null,handleMouse:!0,handleTouch:!0,handleKeys:!0,gameArea:null,canvasPercentage:null,constructor:function(){this.handleKeys&&(g(document,"keydown",j.hitch(this,"keyDown")),g(document,"keyup",j.hitch(this,"keyReleased")));this.handleMouse&&(g(this.canvas,"mousedown",j.hitch(this,"mouseDown")),g(document,"mouseup",j.hitch(this,"mouseUp")),g(this.canvas,"mousemove",j.hitch(this,"mouseMove")));this.handleTouch&&(g(document,"touchend",j.hitch(this,
"touchEnd")),g(this.canvas,"touchstart",j.hitch(this,"touchStart")),g(this.canvas,"touchmove",j.hitch(this,"touchMove")));if(!this.mouseAction)this.mouseAction=new e;if(!this.touchAction)this.touchAction=new e;this.gameArea&&this.canvasPercentage&&(window.addEventListener("resize",j.hitch(this,"resize"),!1),window.addEventListener("orientationchange",j.hitch(this,"resize"),!1))},mapToKey:function(b,e){if(!this.keyActions)this.keyActions=[];this.keyActions[e]=b},addKeyAction:function(f,e){var a=new b;
if(e)a.behavior=a.statics.DETECT_INITAL_PRESS_ONLY;this.mapToKey(a,f);return a},setMouseAction:function(b){this.mouseAction=b},setTouchAction:function(b){this.touchAction=b},mouseUp:function(b){this.mouseAction.release();this.mouseAction.endPosition=this.getMouseLoc(b)},mouseDown:function(b){this.mouseAction.press();this.mouseAction.startPosition=this.getMouseLoc(b);this.mouseAction.position=this.mouseAction.startPosition},mouseMove:function(b){this.mouseAction.position=this.getMouseLoc(b)},touchStart:function(b){this.touchAction.press();
this.touchAction.startPosition=this.getMouseLoc(b.changedTouches[0]);this.touchAction.position=this.touchAction.startPosition},touchEnd:function(b){this.touchAction.release();this.mouseAction.endPosition=this.getMouseLoc(b)},touchMove:function(b){this.touchAction.position=this.getMouseLoc(b.changedTouches[0]);b.preventDefault()},getKeyAction:function(b){return this.keyActions.length?this.keyActions[b.keyCode]||this.keyActions[String.fromCharCode(b.keyCode)]:null},keyPressed:function(b){(b=this.getKeyAction(b))&&
!b.isPressed()&&b.press()},keyDown:function(b){(b=this.getKeyAction(b))&&!b.isPressed()&&b.press()},keyReleased:function(b){(b=this.getKeyAction(b))&&b.release()},getMouseLoc:function(b){var e=n.position(this.canvas);return this.zoomRatio?{x:Math.round((b.clientX-e.x)/this.zoomRatio),y:Math.round((b.clientY-e.y)/this.zoomRatio)}:{x:Math.round(b.clientX-e.x),y:Math.round(b.clientY-e.y)}},resize:function(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var b=this.canvas.width/this.canvas.height,
e=window.innerWidth,a=window.innerHeight;e/a>b?(e=a*b,this.gameArea.style.height=Math.round(a)+"px",this.gameArea.style.width=e+"px"):(a=Math.round(e/b),this.gameArea.style.width=e+"px",this.gameArea.style.height=a+"px");this.zoomRatio=e/this.canvas.width*this.canvasPercentage;this.canvas.style.width=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.height=Math.floor(100*this.canvasPercentage)+"%"}}})})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel",
"./has"],function(b,e,i){function h(a,b,d,e,g){if(e=b.match(/(.*):(.*)/))return b=e[2],e=e[1],f.selector(e,b).call(g,a,d);i("touch")&&(l.test(b)&&(d=r(d)),!i("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,d=r(d)));k&&(d=k(d));if(a.addEventListener){var h=b in c,m=h?c[b]:b;a.addEventListener(m,d,h);return{remove:function(){a.removeEventListener(m,d,h)}}}if(B&&a.attachEvent)return B(a,"on"+b,d);throw Error("Target must be an event emitter");}function g(){this.cancelable=!1}
function n(){this.bubbles=!1}var j=window.ScriptEngineMajorVersion;i.add("jscript",j&&j()+ScriptEngineMinorVersion()/10);i.add("event-orientationchange",i("touch")&&!i("android"));i.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var f=function(a,b,c,d){return"function"==typeof a.on&&"function"!=typeof b?a.on(b,c):f.parse(a,b,c,h,d,this)};f.pausable=function(a,b,c,d){var e,a=f(a,b,function(){if(!e)return c.apply(this,
arguments)},d);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};f.once=function(a,b,c){var d=f(a,b,function(){d.remove();return c.apply(this,arguments)});return d};f.parse=function(a,b,c,d,e,f){if(b.call)return b.call(f,a,c);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),k=[],g=0,h;h=b[g++];)k.push(d(a,h,c,e,f));k.remove=function(){for(var a=0;a<k.length;a++)k[a].remove()};return k}return d(a,b,c,e,f)};var l=/^touch/;f.selector=function(a,b,c){return function(d,k){function g(b){for(h=
h&&h.matches?h:e.query;!h.matches(b,a,d);)if(b==d||!1===c||!(b=b.parentNode)||1!=b.nodeType)return;return b}var h="function"==typeof a?{matches:a}:this,i=b.bubble;return i?f(d,i(g),k):f(d,b,function(a){var b=g(a.target);return b&&k.call(b,a)})}};var a=[].slice,m=f.emit=function(b,d,c){var e=a.call(arguments,2),f="on"+d;if("parentNode"in b){var k=e[0]={},h;for(h in c)k[h]=c[h];k.preventDefault=g;k.stopPropagation=n;k.target=b;k.type=d;c=k}do b[f]&&b[f].apply(b,e);while(c&&c.bubbles&&(b=b.parentNode));
return c&&c.cancelable&&c},c={};if(!i("event-stopimmediatepropagation"))var d=function(){this.modified=this.immediatelyStopped=!0},k=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=d,a.apply(this,arguments)}};if(i("dom-addeventlistener"))c={focusin:"focus",focusout:"blur"},f.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var d=a.ownerDocument.createEvent("HTMLEvents");d.initEvent(b,!!c.bubbles,!!c.cancelable);for(var e in c)e in d||(d[e]=c[e]);
return a.dispatchEvent(d)&&d}return m.apply(f,arguments)};else{f._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;t&&a.type==t.type&&(a=t);if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=z,a.preventDefault=S;switch(a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;
10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}}return a};var t,p=function(a){this.handle=a};p.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var o=function(a){return function(b){var b=f._fixEvent(b,this),c=a.call(this,b);b.modified&&(t||setTimeout(function(){t=null}),t=b);return c}},B=function(a,c,d){d=o(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||
a.window||window)!=top||5.8>i("jscript"))&&!i("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=a[c];if(!e||!e.listeners){var f=e,e=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=[];a[c]=e;e.global=this;f&&e.listeners.push(_dojoIEListeners_.push(f)-1)}e.listeners.push(a=e.global._dojoIEListeners_.push(d)-
1);return new p(a)}return b.after(a,c,d,!0)},z=function(){this.cancelBubble=!0},S=f._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(i("touch"))var s=function(){},q=window.orientation,r=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;try{delete b.type}catch(e){}b.type?(s.prototype=b,c=new s,c.preventDefault=function(){b.preventDefault()},c.stopPropagation=function(){b.stopPropagation()}):
(c=b,c.type=d);b.corrected=c;if("resize"==d){if(q==window.orientation)return null;q=window.orientation;c.type="orientationchange";return a.call(this,c)}if(!("rotation"in c))c.rotation=0,c.scale=1;var d=c.changedTouches[0],f;for(f in d)delete c[f],c[f]=d[f]}return a.call(this,c)}};return f})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(b,e,i,h){function g(a,b,c,d,e,f){f=f||"px";a=a.style;if(!isNaN(b))a.left=b+f;if(!isNaN(c))a.top=
c+f;if(0<=d)a.width=d+f;if(0<=e)a.height=e+f}function n(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function j(a){return"border-box"==f.boxModel||"table"==a.tagName.toLowerCase()||n(a)}var f={boxModel:"content-box"};if(b("ie"))f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";f.getPadExtents=function(a,b){var a=i.byId(a),c=b||h.getComputedStyle(a),d=h.toPixelValue,e=d(a,c.paddingLeft),f=d(a,
c.paddingTop),g=d(a,c.paddingRight),c=d(a,c.paddingBottom);return{l:e,t:f,r:g,b:c,w:e+g,h:f+c}};f.getBorderExtents=function(a,b){var a=i.byId(a),c=h.toPixelValue,d=b||h.getComputedStyle(a),e="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0,f="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,g="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0,c="none"!=d.borderBottomStyle?c(a,d.borderBottomWidth):0;return{l:e,t:f,r:g,b:c,w:e+g,h:f+c}};f.getPadBorderExtents=function(a,b){var a=i.byId(a),c=b||h.getComputedStyle(a),
d=f.getPadExtents(a,c),c=f.getBorderExtents(a,c);return{l:d.l+c.l,t:d.t+c.t,r:d.r+c.r,b:d.b+c.b,w:d.w+c.w,h:d.h+c.h}};f.getMarginExtents=function(a,b){var a=i.byId(a),c=b||h.getComputedStyle(a),d=h.toPixelValue,e=d(a,c.marginLeft),f=d(a,c.marginTop),g=d(a,c.marginRight),c=d(a,c.marginBottom);return{l:e,t:f,r:g,b:c,w:e+g,h:f+c}};f.getMarginBox=function(a,e){var a=i.byId(a),c=e||h.getComputedStyle(a),d=f.getMarginExtents(a,c),g=a.offsetLeft-d.l,j=a.offsetTop-d.t,p=a.parentNode,o=h.toPixelValue;if(b("mozilla")){var n=
parseFloat(c.left),c=parseFloat(c.top);!isNaN(n)&&!isNaN(c)?(g=n,j=c):p&&p.style&&(p=h.getComputedStyle(p),"visible"!=p.overflow&&(g+="none"!=p.borderLeftStyle?o(a,p.borderLeftWidth):0,j+="none"!=p.borderTopStyle?o(a,p.borderTopWidth):0))}else if((b("opera")||8==b("ie")&&!b("quirks"))&&p)p=h.getComputedStyle(p),g-="none"!=p.borderLeftStyle?o(a,p.borderLeftWidth):0,j-="none"!=p.borderTopStyle?o(a,p.borderTopWidth):0;return{l:g,t:j,w:a.offsetWidth+d.w,h:a.offsetHeight+d.h}};f.getContentBox=function(a,
e){var a=i.byId(a),c=e||h.getComputedStyle(a),d=a.clientWidth,g=f.getPadExtents(a,c),j=f.getBorderExtents(a,c);d?(c=a.clientHeight,j.w=j.h=0):(d=a.offsetWidth,c=a.offsetHeight);b("opera")&&(g.l+=j.l,g.t+=j.t);return{l:g.l,t:g.t,w:d-g.w-j.w,h:c-g.h-j.h}};f.setContentSize=function(a,b,c){var a=i.byId(a),d=b.w,b=b.h;j(a)&&(c=f.getPadBorderExtents(a,c),0<=d&&(d+=c.w),0<=b&&(b+=c.h));g(a,NaN,NaN,d,b)};var l={l:0,t:0,w:0,h:0};f.setMarginBox=function(a,e,c){var a=i.byId(a),d=c||h.getComputedStyle(a),c=e.w,
k=e.h,t=j(a)?l:f.getPadBorderExtents(a,d),d=f.getMarginExtents(a,d);if(b("webkit")&&n(a)){var p=a.style;if(0<=c&&!p.width)p.width="4px";if(0<=k&&!p.height)p.height="4px"}0<=c&&(c=Math.max(c-t.w-d.w,0));0<=k&&(k=Math.max(k-t.h-d.h,0));g(a,e.l,e.t,c,k)};f.isBodyLtr=function(a){a=a||e.doc;return"ltr"==(e.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){var a=a||e.doc,g=e.doc.parentWindow||e.doc.defaultView;return"pageXOffset"in g?{x:g.pageXOffset,y:g.pageYOffset}:(g=
b("quirks")?e.body(a):a.documentElement)&&{x:f.fixIeBiDiScrollLeft(g.scrollLeft||0,a),y:g.scrollTop||0}};if(b("ie"))f.getIeDocumentElementOffset=function(a){a=a||e.doc;a=a.documentElement;if(8>b("ie")){var f=a.getBoundingClientRect(),c=f.left,f=f.top;7>b("ie")&&(c+=a.clientLeft,f+=a.clientTop);return{x:0>c?0:c,y:0>f?0:f}}return{x:0,y:0}};f.fixIeBiDiScrollLeft=function(a,g){var g=g||e.doc,c=b("ie");if(c&&!f.isBodyLtr(g)){var d=b("quirks"),h=d?e.body(g):g.documentElement,i=e.global;6==c&&!d&&i.frameElement&&
h.scrollHeight>h.clientHeight&&(a+=h.clientLeft);return 8>c||d?a+h.clientWidth-h.scrollWidth:-a}return a};f.position=function(a,g){var a=i.byId(a),c=e.body(a.ownerDocument),d=a.getBoundingClientRect(),d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};if(9>b("ie")){var h=f.getIeDocumentElementOffset(a.ownerDocument);d.x-=h.x+(b("quirks")?c.clientLeft+c.offsetLeft:0);d.y-=h.y+(b("quirks")?c.clientTop+c.offsetTop:0)}g&&(c=f.docScroll(a.ownerDocument),d.x+=c.x,d.y+=c.y);return d};f.getMarginSize=
function(a,b){var a=i.byId(a),c=f.getMarginExtents(a,b||h.getComputedStyle(a)),d=a.getBoundingClientRect();return{w:d.right-d.left+c.w,h:d.bottom-d.top+c.h}};f.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!b("dom-addeventlistener")){var e=a.target,e=e&&e.ownerDocument||document,c=b("quirks")?e.body:e.documentElement,d=f.getIeDocumentElementOffset(e);a.pageX=a.clientX+f.fixIeBiDiScrollLeft(c.scrollLeft||0,e)-d.x;a.pageY=a.clientY+(c.scrollTop||0)-d.y}};return f})},
"dojo/dom-style":function(){define(["./sniff","./dom"],function(b,e){function i(c,d,e){d=d.toLowerCase();if(b("ie")){if("auto"==e){if("height"==d)return c.offsetHeight;if("width"==d)return c.offsetWidth}if("fontweight"==d)switch(e){case 700:return"bold";default:return"normal"}}d in a||(a[d]=m.test(d));return a[d]?n(c,e):e}var h,g={};h=b("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=c.getComputedStyle(a,
null)}return b||{}}:b("ie")&&(9>b("ie")||b("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};g.getComputedStyle=h;var n;n=b("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,e=c.left,f=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(g){b=0}c.left=e;d.left=f;return b}:function(a,
b){return parseFloat(b)||0};g.toPixelValue=n;var j=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},f=9>b("ie")||10>b("ie")&&b("quirks")?function(a){try{return j(a).Opacity/100}catch(b){return 1}}:function(a){return h(a).opacity},l=9>b("ie")||10>b("ie")&&b("quirks")?function(a,b){var c=100*b,d=1==b;a.style.zoom=d?"":1;if(j(a))j(a,1).Opacity=c;else{if(d)return b;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")"}j(a,1).Enabled=
!d;if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&l(c,b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},m=/margin|padding|width|height|max|min|offset/,c=b("ie")?"styleFloat":"cssFloat",d={cssFloat:c,styleFloat:c,"float":c};g.get=function(a,b){var c=e.byId(a),h=arguments.length;if(2==h&&"opacity"==b)return f(c);var b=d[b]||b,j=g.getComputedStyle(c);return 1==h?j:i(c,b,j[b]||c.style[b])};g.set=function(a,b,c){var f=e.byId(a),
h=arguments.length,i="opacity"==b,b=d[b]||b;if(3==h)return i?l(f,c):f.style[b]=c;for(var j in b)g.set(a,j,b[j]);return g.getComputedStyle(f)};return g})},"dojo/domReady":function(){define(["./has"],function(b){function e(a){j?a(h):f.push(a)}var i=this,h=document,g={loaded:1,complete:1},n="string"!=typeof h.readyState,j=!!g[h.readyState];if(n)h.readyState="loading";if(!j){var f=[],l=[],a=function(a){a=a||i.event;if(!(j||"readystatechange"==a.type&&!g[h.readyState])){j=1;if(n)h.readyState="complete";
for(;f.length;)f.shift()(h)}},m=function(b,c){b.addEventListener(c,a,!1);f.push(function(){b.removeEventListener(c,a,!1)})};if(!b("dom-addeventlistener")){var m=function(b,c){c="on"+c;b.attachEvent(c,a);f.push(function(){b.detachEvent(c,a)})},c=h.createElement("div");try{c.doScroll&&null===i.frameElement&&l.push(function(){try{return c.doScroll("left"),1}catch(a){}})}catch(d){}}m(h,"DOMContentLoaded");m(i,"load");"onreadystatechange"in h?m(h,"readystatechange"):n||l.push(function(){return g[h.readyState]});
if(l.length){var k=function(){if(!j){for(var b=l.length;b--;)if(l[b]()){a("poller");return}setTimeout(k,30)}};k()}}e.load=function(a,b,c){e(c)};return e})},"frozen/ResourceManager":function(){define(["dcl","dcl/bases/Mixer","./shims/AudioContext"],function(b,e){var i=null;window.AudioContext&&(i=new window.AudioContext);return b(e,{imageCount:0,loadedImages:0,allLoaded:!1,imageDir:null,soundsDir:null,audioContext:i,resourceList:[],loadImage:function(b){for(var e=0;e<this.resourceList.length;e++)if(this.resourceList[e].name===
b)return this.resourceList[e].img;this.allLoaded=!1;var e=new Image,i={name:b,img:e,complete:!1};this.imageDir&&(b=this.imageDir+b);e.onload=function(){i.complete=!0};e.src=b;this.resourceList.push(i);return e},loadSound:function(b){this.soundsDir&&(b=this.soundsDir+b);var e={name:b,buffer:null,complete:!1};if(this.audioContext){this.resourceList.push(e);var i=new XMLHttpRequest;i.open("GET",b,!0);i.responseType="arraybuffer";var j=this.audioContext;i.onload=function(){j.decodeAudioData(i.response,
function(b){e.buffer=b;e.complete=!0},function(){})};i.send()}return e},playSound:function(b,e,i,j){i=i||0;if(this.audioContext&&b&&(b=b.buffer||b))try{var f=this.audioContext.createBufferSource();f.buffer=b;if(e)f.loop=!0;if(j){var l=this.audioContext.createGainNode();l.gain.value=j;f.connect(l);l.connect(this.audioContext.destination)}else f.connect(this.audioContext.destination);f.noteOn(i);return f}catch(a){}},resourcesReady:function(){if(!this.allLoaded){for(var b=0;b<this.resourceList.length;b++)if(!this.resourceList[b].complete)return!1;
this.allLoaded=!0}return!0},getPercentComplete:function(){for(var b=0,e=0;e<this.resourceList.length;e++)this.resourceList[e].complete&&(b+=1);return 0===this.resourceList.length?0:Math.round(100*(b/this.resourceList.length))}})})},"frozen/shims/AudioContext":function(){define(function(){for(var b=["ms","moz","webkit","o"],e=0;e<b.length&&!window.AudioContext;++e)window.AudioContext=window[b[e]+"AudioContext"]})},"frozen/shims/RAF":function(){define(function(){for(var b=0,e=["ms","moz","webkit","o"],
i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)window.requestAnimationFrame=function(e){var g=(new Date).getTime(),i=Math.max(0,16-(g-b)),j=window.setTimeout(function(){e(g+i)},i);b=g+i;return j};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(b){clearTimeout(b)}})},"frozen/utils":function(){define("./utils/degreesToRadians,./utils/radiansToDegrees,./utils/pointInPolygon,./utils/distance,./utils/degreesFromCenter,./utils/radiansFromCenter,./utils/scalePoints,./utils/translatePoints".split(","),
function(b,e,i,h,g,n,j,f){return{degreesToRadians:b,radiansToDegrees:e,pointInPolygon:i,distance:h,degreesFromCenter:g,radiansFromCenter:n,scalePoints:j,translatePoints:f}})},"frozen/utils/degreesToRadians":function(){define(function(){var b=Math.PI/180;return function(e){return e*b}})},"frozen/utils/radiansToDegrees":function(){define(function(){var b=180/Math.PI;return function(e){return e*b}})},"frozen/utils/pointInPolygon":function(){define(function(){return function(b,e){for(var i=e.points||
e,h=!1,g=-1,n=i.length,j=n-1;++g<n;j=g)(i[g].y<=b.y&&b.y<i[j].y||i[j].y<=b.y&&b.y<i[g].y)&&b.x<(i[j].x-i[g].x)*(b.y-i[g].y)/(i[j].y-i[g].y)+i[g].x&&(h=!h);return h}})},"frozen/utils/distance":function(){define(function(){return function(b,e){return Math.sqrt((e.x-b.x)*(e.x-b.x)+(e.y-b.y)*(e.y-b.y))}})},"frozen/utils/degreesFromCenter":function(){define(["./radiansToDegrees","./radiansFromCenter"],function(b,e){return function(i,h){return b(e(i,h))}})},"frozen/utils/radiansFromCenter":function(){define(function(){var b=
{x:0,y:0};return function(e,i){e=e||b;return e.x===i.x&&e.y===i.y?0:e.x===i.x?e.y>i.y?0:Math.PI:e.y===i.y?e.x>i.x?1.5*Math.PI:Math.PI/2:e.x<i.x&&e.y>i.y?Math.atan((i.x-e.x)/(e.y-i.y)):e.x<i.x&&e.y<i.y?Math.PI/2+Math.atan((i.y-e.y)/(i.x-e.x)):e.x>i.x&&e.y<i.y?Math.PI+Math.atan((e.x-i.x)/(i.y-e.y)):1.5*Math.PI+Math.atan((e.y-i.y)/(e.x-i.x))}})},"frozen/utils/scalePoints":function(){define(["dojo/_base/array","dojo/_base/lang"],function(b,e){var i=function(h,g){e.isArray(h)?b.forEach(h,function(b){i(b,
g)}):(h.x*=g,h.y*=g);return h};return i})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(b,e,i){function h(a){return j[a]=new Function("item","index","array",a)}function g(a){var b=!a;return function(c,d,e){var f=0,g=c&&c.length||0,i;g&&"string"==typeof c&&(c=c.split(""));"string"==typeof d&&(d=j[d]||h(d));if(e)for(;f<g;++f){if(i=!d.call(e,c[f],f,c),a^i)return!i}else for(;f<g;++f)if(i=!d(c[f],f,c),a^i)return!i;return b}}function n(a){var b=1,c=0,d=0;a||(b=c=d=-1);return function(e,
g,h,i){if(i&&0<b)return l.lastIndexOf(e,g,h);var i=e&&e.length||0,j=a?i+d:c;h===f?h=a?c:i+d:0>h?(h=i+h,0>h&&(h=c)):h=h>=i?i+d:h;for(i&&"string"==typeof e&&(e=e.split(""));h!=j;h+=b)if(e[h]==g)return h;return-1}}var j={},f,l={every:g(!1),some:g(!0),indexOf:n(!0),lastIndexOf:n(!1),forEach:function(a,b,c){var d=0,e=a&&a.length||0;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=j[b]||h(b));if(c)for(;d<e;++d)b.call(c,a[d],d,a);else for(;d<e;++d)b(a[d],d,a)},map:function(a,b,c,d){var e=0,
f=a&&a.length||0,d=new (d||Array)(f);f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=j[b]||h(b));if(c)for(;e<f;++e)d[e]=b.call(c,a[e],e,a);else for(;e<f;++e)d[e]=b(a[e],e,a);return d},filter:function(a,b,c){var d=0,e=a&&a.length||0,f=[],g;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=j[b]||h(b));if(c)for(;d<e;++d)g=a[d],b.call(c,g,d,a)&&f.push(g);else for(;d<e;++d)g=a[d],b(g,d,a)&&f.push(g);return f},clearCache:function(){j={}}};i.mixin(b,l);return l})},"frozen/utils/translatePoints":function(){define(["dojo/_base/array",
"dojo/_base/lang"],function(b,e){var i=function(h,g){e.isArray(h)?b.forEach(h,function(b){i(b,g)}):(g.hasOwnProperty("x")&&(h.x+=g.x),g.hasOwnProperty("y")&&(h.y+=g.y));return h};return i})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./sniff"],function(b,e){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:e("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,
INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:e("mac")&&
!e("air")?e("safari")?91:224:17}})}}});(function(){require({cache:{}});require.boot&&require.apply(null,require.boot)})();